<!DOCTYPE html>
<html>
<head>
  <meta name="description" content="ES6 in Action: New String Methods [2]">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>ES6 in Action: New String Methods</title>
</head>
<body>
	<p>myDiv</p>
</body>
</html>
<script>
	// this context of Arrow function

	// const myObj = {
	//   runTimeout() {
	//     setTimeout(function() {
	//       this.printData();
	//     }.bind(this), 200);
	//   },
	//   printData() {
	//     console.log("hi codesquad");
	//   }
	// }

	// myObj.runTimeout();

	// const myObj2 = {
	//   runTimeout2() {
	//     setTimeout(() => {
	//       console.log(this === window);
	//       this.printData();
	//     }, 200);
	//   },
	//   printData() {
	//     console.log("hi codesquad");
	//   }
	// }

	// myObj2.runTimeout2();

	// bind로 감싸줌
	// const el = document.querySelector('p');
	// const myObj = {
	//   register() {
	//     el.addEventListener('click',function(evt) {
	//       this.printData();
	//     }.bind(this));
	//   },
	//   printData() {
	//     console.log('clicked');
	//   }
	// }

	// myObj.register();

	// arrow 함수 쓰면 bind 필요 없음
	const el = document.querySelector('p');

	const myObj = {
	  register() {
	    el.addEventListener('click', (evt) => {
	      this.printData(evt.target);
	    });
	  },
	  printData(el) {
	    console.log('clicked', el.innerText);
	  }
	}

	myObj.register();
</script>